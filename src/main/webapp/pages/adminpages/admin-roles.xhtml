<!-- admin.xhtml -->
<ui:composition template="temp.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="title">Roles</ui:define>
    <ui:define name="main-content">
        <h2>Roles</h2>
        <div class="actions mt mb">
            <h:form>
                <p:commandButton value="Add New" icon="pi pi-plus" styleClass="add-button right-margin"/>
                <p:commandButton value="Delete All" icon="pi pi-trash" styleClass="delete-button"/>
            </h:form>
        </div>

        <p:dataTable id="role_table" value="#{allRoles.roles}" var="role" paginator="true" rows="5">
            <p:column headerText="No">
                <h:outputText value="#{allRoles.roles.indexOf(role)+1}"/>
            </p:column>
            <p:column headerText="Role name">
                <h:outputText value="#{role.name}"/>
            </p:column>
            <p:column headerText="Description">
                <h:outputText value="#{role.description}"/>
            </p:column>
            <p:column headerText="Actions">
                <h:form>
                    <p:commandButton title="Delete" icon="pi pi-times" styleClass="bg-r"/>
                    <p:commandButton title="Edit" icon="pi pi-pencil" styleClass="bg-g"/>
                </h:form>
            </p:column>
        </p:dataTable>

        <p:dialog widgetVar="new_role" width="500px" header="Create New Role" modal="true">
            <h:form id="new_role_form">
                <p:panelGrid columns="2" styleClass="budgetline-grid">
                    <p:outputLabel for="name" value="Name:"/>
                    <p:inputText id="name" value="dummy" required="true" />
                    <p:outputLabel for="description" value="Description:"/>
                    <p:inputText id="description" value="dummy" required="true" />
                </p:panelGrid>
                <p:commandButton styleClass="mr" icon="pi pi-file-plus" title="Save" oncomplete="PF('new_role').hide()" update="role_table"/>
                <p:commandButton styleClass="bg-r" icon="pi pi-times" title="Cancel" onclick="PF('new_role').hide()"/>
            </h:form>
        </p:dialog>

        <p:dialog widgetVar="edit_role" header="Edit Role" modal="true">
            <h:form id="edit_role_form">
                <p:panelGrid columns="2" styleClass="budgetline-grid">
                    <p:outputLabel for="role_name" value="Name:"/>
                    <p:inputText id="role_name" value="dummy" required="true" />
                    <p:outputLabel for="role_description" value="Description:"/>
                    <p:inputText id="role_description" value="dummy" required="true" />
                </p:panelGrid>
                <p:commandButton styleClass="mr" icon="pi pi-file-plus" title="Save" oncomplete="PF('edit_role').hide()" update="role_table"/>
                <p:commandButton styleClass="bg-r" icon="pi pi-times" title="Cancel" onclick="PF('edit_role').hide()"/>
            </h:form>
        </p:dialog>

        <p:dialog widgetVar="confirm_dialog" header="Confirm!" modal="true">
            <h:form id="confirm_dialog_form" styleClass="flex column">
                <p:outputLabel value="Do you wish to delete this role?"/>
                <div class="row mt">
                    <p:commandButton icon="pi pi-trash" styleClass="bg-r mr" title="Delete" oncomplete="PF('confirm_dialog').hide()" update="role_table"/>
                    <p:commandButton icon="pi pi-times" styleClass="bg-g" title="Cancel" onclick="PF('confirm_dialog').hide()"/>
                </div>
            </h:form>
        </p:dialog>

        <p:dialog widgetVar="confirm_all_dialog" header="Delete All!" modal="true">
            <h:form id="confirm_all_form" styleClass="flex column">
                <p:outputLabel value="Do you wish to delete all roles?"/>
                <div class="row mt">
                    <p:commandButton icon="pi pi-trash" styleClass="bg-r mr" title="Delete" oncomplete="PF('confirm_all_dialog').hide()" update="role_table"/>
                    <p:commandButton icon="pi pi-times" styleClass="bg-g" title="Cancel" onclick="PF('confirm_all_dialog').hide()"/>
                </div>
            </h:form>
        </p:dialog>


    </ui:define>
</ui:composition>