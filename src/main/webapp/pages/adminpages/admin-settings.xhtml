<!-- admin.xhtml -->
<ui:composition template="temp.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="title">
        Settings
        #{con.setRoute('sett')}
    </ui:define>
    <ui:define name="main-content">
        <div class="main-content">
            <h2>Settings</h2>
            <h:form styleClass="bg-white flex column pad2">
                <p:panelGrid columns="2" styleClass="mb" layout="tabular">
                    <h:panelGroup class="flex column">
                        <p:outputLabel for="f_name" value="First name"/>
                        <p:inputText id="f_name" placeholder="First Name" value="#{loginBean.firstname}"/>
                    </h:panelGroup>
                    <h:panelGroup class="flex column">
                        <p:outputLabel for="l_name" value="Last name"/>
                        <p:inputText id="l_name" placeholder="Last Name" value="#{loginBean.lastname}"/>
                    </h:panelGroup>
                    <h:panelGroup class="flex column">
                        <p:outputLabel for="username" value="Username"/>
                        <p:inputText id="username" placeholder="Username" readonly="true" value="#{loginBean.username}"/>
                    </h:panelGroup>
                    <h:panelGroup class="flex column">
                        <p:outputLabel for="email" value="Email"/>
                        <p:inputText id="email" placeholder="Username" value="#{loginBean.email}"/>
                    </h:panelGroup>
                    <h:panelGroup class="flex column">
                        <p:outputLabel for="password" value="Password"/>
                        <p:password id="password" placeholder="Password" value="#{loginBean.userPassword}"/>
                    </h:panelGroup>
                    <h:panelGroup class="flex column">
                        <p:outputLabel for="role" value="Roles"/>
                        <div>
                            <ui:repeat id="role" value="#{loginBean.roles}" var="myRole" varStatus="status">
                                <p:chip label="#{myRole.name}"/><p:outputLabel value=" "/>
                            </ui:repeat>
                        </div>
                    </h:panelGroup>
                </p:panelGrid>

                <div class="flex" style="justify-content: end">
                    <p:commandButton value="Save" icon="pi pi-file-edit" action="#{loginBean.updateLoggedInUser}" styleClass="mt pill"/>
                </div>
            </h:form>
        </div>
    </ui:define>
</ui:composition>
